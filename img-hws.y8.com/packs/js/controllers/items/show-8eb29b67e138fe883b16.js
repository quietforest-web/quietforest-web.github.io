!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/packs/",r(r.s=457)}({118:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i(o.prototype,[{key:"saveGameId",value:function(e){var t,n;this.allowedSkins.indexOf(this.skin.shortName)<0||(-1<(n=(t=this.cookieVal?JSON.parse(this.cookieVal):[]).indexOf(e))&&t.splice(n,1),t.push(e),t.length>this.maxIds&&t.splice(0,1),n=JSON.stringify(t),Cookies.set(this.cookieName,n,{path:"/",domain:this.cookieDomain,expires:this.cookieExpiration}))}},{key:"removeOldCookie",value:function(){this.skin.is("y8")&&Cookies.remove(this.cookieName,{path:"/",expires:this.cookieExpiration})}}]);var r=o;function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.skin=window.appInfo.currentSkin,this.cookieDomain="."+this.skin.name,this.cookieExpiration=365,this.maxIds=100,this.allowedSkins=["y8","videotime"],this.cookieName=e,this.removeOldCookie(),this.cookieVal=Cookies.get(e),this.saveGameId(t)}t.a=r},22:function(e,t,n){e.exports=n(319)},318:function(e,t){var i={prebidTimeout:1300,failsafeTimeout:3e3,initAdserver:function(){window.pbjs.initAdserverSet||(window.pbjs.initAdserverSet=!0,window.googletag.cmd.push(function(){window.pbjs.que.push(function(){window.pbjs.setTargetingForGPTAsync(),window.googletag.pubads().refresh(i.definedSlots.pbjs)})}))},init:function(e,t,n){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.idhb=window.idhb||{},window.idhb.que=window.idhb.que||[],window.googletag.cmd.push(function(){window.googletag.pubads().disableInitialLoad()}),n?(console.log("=== pbjs definitons"),window.pbjs.que.push(function(){window.pbjs.bidderSettings={districtm:{bidCpmAdjustment:function(e){return.85*e}}},window.pbjs.setConfig({priceGranularity:i.customConfigObject,timeoutBuffer:300,bidderTimeout:i.prebidTimeout,bidderSequence:"random",enableSendAllBids:!0,userSync:{syncsPerBidder:50,filterSettings:{iframe:{bidders:"*",filter:"include"}}}}),setTimeout(i.initAdserver,i.failsafeTimeout),window.pbjs.que.push(function(){window.pbjs.addAdUnits(i.allPrebidAdUnits)}),window.googletag.cmd.push(function(){i.definedSlots.pbjs.push(window.googletag.defineSlot("/83578953/Y8_Top_of_Games",[[728,90],[468,60]],"Y8_Top_of_Games").setTargeting(""+e,""+t).addService(window.googletag.pubads()),window.googletag.defineSlot("/83578953/Y8_Right_of_games_1",[[300,250],[250,250]],"Y8_Right_of_games_1").setTargeting(""+e,""+t).addService(window.googletag.pubads()),window.googletag.defineSlot("/83578953/Y8_Right_of_games_2",[[300,250],[250,250]],"Y8_Right_of_games_2").setTargeting(""+e,""+t).addService(window.googletag.pubads())),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),i.requestHeaderBidding()})})):(console.log("=== idhb definitons"),window.idhb.que.push(function(){window.googletag.cmd.push(function(){i.definedSlots.idhb.push(googletag.defineSlot("/1015413,83578953/y8.com_banner1",[[728,90],[468,60]],"Y8_Top_of_Games").setTargeting(""+e,""+t).addService(window.googletag.pubads()),googletag.defineSlot("/1015413,83578953/y8.com_banner2",[[300,250],[250,250]],"Y8_Right_of_games_1").setTargeting(""+e,""+t).addService(window.googletag.pubads()),googletag.defineSlot("/1015413,83578953/y8.com_banner3",[[300,250],[250,250]],"Y8_Right_of_games_2").setTargeting(""+e,""+t).addService(window.googletag.pubads())),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),i.requestHeaderliftAds()})}))},requestHeaderBidding:function(){window.pbjs.que.push(function(){window.pbjs.requestBids({bidsBackHandler:i.initAdserver,timeout:i.prebidTimeout})})},requestHeaderliftAds:function(){window.idhb.que.push(function(){var e=i.definedSlots.idhb.map(function(e){return e.getSlotElementId()});window.idhb.requestAds({slotIds:e,callback:function(){window.googletag.cmd.push(function(){window.googletag.pubads().refresh(i.definedSlots[idhb])})}})})},definedSlots:{pbjs:[],idhb:[]},isDesktop:function(){return window.UserAgent?!window.UserAgent.device.type:1200<window.innerWidth},customConfigObject:{buckets:[{precision:2,min:.01,max:100,increment:.01},{precision:2,min:100,max:1e3,increment:1}]},allPrebidAdUnits:[{code:"Y8_Top_of_Games",mediaTypes:{banner:{sizes:[[728,90]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525625",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328759"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61493"}},{bidder:"ix",params:{siteId:"516138",size:[728,90]}},{bidder:"sharethrough",params:{pkey:"9VJWNM7VnL97YRPvfEcpawcV"}},{bidder:"improvedigital",params:{placementId:22516011}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851004"}},{bidder:"adform",params:{mid:928579}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334867,formatId:85671}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107570"}},{bidder:"emx_digital",params:{tagid:"150151"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97828"}}]},{code:"Y8_Right_of_games_1",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525626",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328760"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61495"}},{bidder:"ix",params:{siteId:"516139",size:[300,250]}},{bidder:"sharethrough",params:{pkey:"Mt7sgDa9dUTpZA4Ccc8pKGhu"}},{bidder:"improvedigital",params:{placementId:22516012}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851005"}},{bidder:"adform",params:{mid:928582}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334864,formatId:85162}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107571"}},{bidder:"emx_digital",params:{tagid:"150152"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97827"}}]},{code:"Y8_Right_of_games_2",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[{bidder:"districtmDMX",params:{dmxid:"525627",memberid:"102001"}},{bidder:"districtm",params:{placementId:"19328761"}},{bidder:"oftmedia",params:{placementId:"18716602"}},{bidder:"triplelift",params:{inventoryCode:"61498"}},{bidder:"ix",params:{siteId:"516140",size:[300,250]}},{bidder:"sharethrough",params:{pkey:"Um88RDejruTHzmaksR2Jc31y"}},{bidder:"improvedigital",params:{placementId:22516013}},{bidder:"onetag",params:{pubId:"72d84e044a39576"}},{bidder:"appnexus",params:{placementId:"21851005"}},{bidder:"adform",params:{mid:928592}},{bidder:"smartadserver",params:{siteId:386776,pageId:1334862,formatId:85162}},{bidder:"openx",params:{delDomain:"adsparc-d.openx.net",unit:"544107572"}},{bidder:"emx_digital",params:{tagid:"150153"}},{bidder:"rhythmone",params:{placementId:"216840"}},{bidder:"grid",params:{uid:"97825"}}]}]};window.HeaderBidding=i},319:function(t,e,n){t=function(a){"use strict";var c,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function s(e,t,n,i){var r,o,a,s,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),i=new _(i||[]);return t._invoke=(r=e,o=n,a=i,s=d,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return x()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var i=t.iterator[n.method];if(i===c){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=c,e(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}i=l(i,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;i=i.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}(n,a);if(n){if(n===m)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=f;n=l(r,o,a);if("normal"===n.type){if(s=a.done?p:h,n.arg===m)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=p,a.method="throw",a.arg=n.arg)}}),t}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function g(){}function o(){}function v(){}var t={},y=(t[i]=function(){return this},Object.getPrototypeOf),y=y&&y(y(S([]))),w=(y&&y!==e&&u.call(y,i)&&(t=y),v.prototype=g.prototype=Object.create(t));function b(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function $(a,s){var t;this._invoke=function(n,i){function e(){return new s(function(e,t){!function t(e,n,i,r){var o,e=l(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==typeof n&&u.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,i,r)},function(e){t("throw",e,i,r)}):s.resolve(n).then(function(e){o.value=e,i(o)},function(e){return t("throw",e,i,r)});r(e.arg)}(n,i,e,t)})}return t=t?t.then(e,e):e()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(t){if(t){var n,e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e}).next=e}return{next:x}}function x(){return{value:c,done:!0}}return(o.prototype=w.constructor=v).constructor=o,v[r]=o.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},b($.prototype),$.prototype[n]=function(){return this},a.AsyncIterator=$,a.async=function(e,t,n,i,r){void 0===r&&(r=Promise);var o=new $(s(e,t,n,i),r);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(w),w[r]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},a.keys=function(n){var e,i=[];for(e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return o.type="throw",o.arg=n,i.next=e,t&&(i.method="next",i.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=u.call(r,"catchLoc"),s=u.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,C(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),m}},a}(t.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},321:function(e,t){!function(e,i){"use strict";var t=".pop-up.vote-buttons";function n(e){var t=i(this),n=t.data("item-id"),t=t.hasClass("thumbup")?"up":"down";Voting.vote(n,t).always(r),o()}function r(){i(".voting-buttons-container-mobile").hide()}function o(){delay(function(){a()},3e3)}function a(){i(t).hide()}function s(e){e.preventDefault(),e.stopPropagation(),i(t).is(":visible")?a():(i(t).show(),i(".voting-result-messages").is(":visible")&&o())}e.MobileVoting={init:function(){i(".choice",t).click(n),i("a.vote-link").click(s)}}}(window,jQuery)},322:function(e,t){function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e,n){"use strict";function t(e){(e=new a(e,"up")).submit(),(new UserInfo).isLoggedIn()||e.saveIdToCookies(e.itemId)}function i(e){new a(e,"down").submit()}var r=[],o=[],a=(u(s.prototype,[{key:"submit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];VotingButtons.disable(),Voting.vote(this.itemId,this.direction,e).then(this.onSuccess.bind(this),this.onFailure.bind(this))}},{key:"callCallbacks",value:function(e,t){var n,i=function(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return c(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}(e);try{for(i.s();!(n=i.n()).done;)n.value.apply(this.$button,t)}catch(e){i.e(e)}finally{i.f()}}},{key:"onSuccess",value:function(){this.callCallbacks(r,arguments)}},{key:"onFailure",value:function(e,t){t==Voting.ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA?(new VotingCaptcha).show().done(this.submit.bind(this)):this.callCallbacks(o,arguments)}},{key:"saveIdToCookies",value:function(){var e=n(".animations-active").length?"videos":"games";new LibraryCookieSetter("liked_"+e+"_ids",this.itemId)}}]),s);function s(e,t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");e.stopPropagation(),e.preventDefault(),this.$button=n(e.currentTarget),this.direction=t,this.itemId=this.$button.data("item-id")}e.DesktopVoting={onSuccess:function(e){r.push(e)},onFailure:function(e){o.push(e)},init:function(){Voting.init(),n("#voting-button-yes").click(t),n("#voting-button-no").click(i),VotingButtons.enable()}}}(window,jQuery)},323:function(e,t,n){"use strict";var i=n(22),r=n.n(i);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function o(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var i=s.apply(e,a);function r(e){c(i,t,n,r,o,"next",e)}function o(e){c(i,t,n,r,o,"throw",e)}r(void 0)})}}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n=p,i=[{key:"getPids",value:(f=o(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=window.appInfo.accountServiceApiUrls.pidsUrl).replace(":profileId",t),e.next=4,$.get(n);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})},{key:"listAllAchievements",value:(h=o(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){window.ID.GameAPI.Achievements.listAll({playerids:n},function(e){t(e)})}));case 1:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)})},{key:"profileAchievements",value:(d=o(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPids(t);case 2:return n=e.sent,e.next=5,this.sdkReady();case 5:return e.next=7,this.playtomicReady();case 7:return e.next=9,this.listAllAchievements(n);case 9:return i=e.sent,e.abrupt("return",this.groupAchievements(i));case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"sdkReady",value:(l=o(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.ID?e("resolved"):setTimeout(function(){return e(t.sdkReady())},200)}));case 1:case"end":return e.stop()}},e)})),function(){return l.apply(this,arguments)})},{key:"playtomicReady",value:(u=o(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.ID.GameAPI.init(null,null,function(){e("resolved")})}));case 1:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)})},{key:"groupAchievements",value:function(e){var n={};if(!e.success)return n;var i,t=function(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}(e.achievements);try{for(t.s();!(i=t.n()).done;)!function(){var t=i.value;if(n[t.appid]||(n[t.appid]=[]),n[t.appid].map(function(e){if(e.achievementid==t.achievementid)return!0})[0])return;n[t.appid].push(t)}()}catch(e){t.e(e)}finally{t.f()}return n}}],a(n.prototype,i);var u,l,d,h,f,n=p;function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.profileAchievements.bind(this)}t.a=n},324:function(e,t,n){"use strict";t.a={config:{calculateHeight:!1},init:function(e){void 0!==e&&(this.config.calculateHeight=e),this.setupData(),$(".show-button.more").click(this.clickForMore.bind(this)),$(".show-button.less").click(this.clickForLess.bind(this))},setupData:function(){var n=this;$(".show-button.more").each(function(){var e=$(this).prev().height(),t=n.contentHeight($(this).prev());$(this).data("initial-height",e),e<t&&$(this).show()})},contentHeight:function(e){return this.config.calculateHeight?$.map(e.children().toArray(),function(e){return $(e).height()}).reduce(function(e,t){return e+t}):e.children().height()},clickForMore:function(e){e.preventDefault(),$(e.currentTarget).prev().height("auto"),$(e.currentTarget).hide(),$(e.currentTarget).next().show()},clickForLess:function(e){e.preventDefault(),$(e.currentTarget).prev().prev().height($(e.currentTarget).prev().data("initial-height")),$(e.currentTarget).hide(),$(e.currentTarget).prev().show(),this.scrollToHeading(e.currentTarget)},scrollToHeading:function(e){e=$(e).find("a").attr("href"),e=$(e).offset().top-150;$("html, body").animate({scrollTop:e},200)}}},325:function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(318),n(333),n(334),n(338),i(r.prototype,[{key:"init",value:function(){"VideoLoader"===$("#item-ad-loader").data("loader")&&(new VideoLoader).load(),"Html5Loader"===$("#item-ad-loader").data("loader")&&new Html5Loader,"SwfLoader"===$("#item-ad-loader").data("loader")&&new SwfLoader,"UnityLoader"===$("#item-ad-loader").data("loader")&&new UnityLoader}},{key:"manageDisplayAd",value:function(){"y8"===$('meta[name="X-Current-Skin-Shortname"]').attr("content")&&(new DisplayAdManager).load()}},{key:"manageVideoAd",value:function(){var e=$("#item-ad-loader"),t=e.data("loader"),e="mobile"===e.data("device");"VideoLoader"!==t&&(new(e?MobileVideoAdManager:VideoAdManager)).load()}}]),window.ItemAdLoader=r},326:function(e,t){function n(e){Html5Ima.call(this,e)}function i(e){Html5Ima.call(this,e)}function r(e,t){return function(){t.apply(e,arguments)}}function o(e){this.adTagUrl=e.adTagUrl,this.overlayContainer=e.overlayContainer,this.loadingContainer=e.loadingContainer,this.container=e.container,this.adsController=new google.outstream.AdsController(this.container[0],r(this,this.onAdLoaded),r(this,this.onAdDone))}window.Html5Ima=(o.prototype.load=function(){this.overlayContainer.css("display","block"),this.requestAds()},o.prototype.onAdLoaded=function(){this.loadingContainer.hide(),this.adsController.showAd();var e=this;delay(function(){e.overlayContainer.find("#adContainer div div:first-child").css("display","inline")},1e3)},o.prototype.onAdDone=function(){this.overlayContainer.hide(),$(document).triggerHandler("adDisplayDone")},o.prototype.requestAds=function(){this.adsController.initialize(),this.adsController.requestAds(this.adTagUrl)},o.prototype.resizeAdsController=function(){this.adsController.resize(this.container.width(),this.container.height())},o),window.Html5ImaDesktop=(Object.create&&(i.prototype=Object.create(Html5Ima.prototype)),i),window.Html5ImaMobile=((n.prototype=Object.create?Object.create(Html5Ima.prototype):n.prototype).load=function(){this.overlayContainer.removeAttr("style"),this.resetAdContainerSize(),this.resizeListener(),Html5Ima.prototype.load.call(this)},n.prototype.resetAdContainerSize=function(){this.container.css("width",this.overlayContainer.css("width")),this.container.css("height",this.overlayContainer.css("height"))},n.prototype.resizeListener=function(){var e=this;$(window).on("resize",function(){delay(function(){window.mobileView.resize(),e.resetAdContainerSize(),e.resizeAdsController()},500)})},n);var a=parseInt(window.UserAgent.browser.major,10);window.Html5ImaCompatibility={desktop:function(){var e=window.UserAgent.browser.name;return"Chrome"==e||"Opera"==e||"Edge"==e||"Firefox"==e&&4<=a||"Safari"==e&&5<=a||"IE"==e&&11<=a},mobile:function(){var e=window.UserAgent.browser.name;return"Chrome"==e||"Opera"==e||"Mobile Safari"==e||"Android Browser"==e&&2.3<=a||"Safari"==e&&6<=a}}},327:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(r.prototype,[{key:"checkPosition",value:function(){if($(window).scrollTop()>this.initialBottomPosition)return 0==$("."+this.fakeContainerClassName).length&&this.$container.before(this.fakeContainer),this.moveToRightCorner();1==$("."+this.fakeContainerClassName).length&&this.fakeContainer.remove(),this.moveToOriginalPosition()}},{key:"moveToRightCorner",value:function(){this.$container.addClass("player-right-corner")}},{key:"moveToOriginalPosition",value:function(){this.$container.removeClass("player-right-corner")}},{key:"onScroll",value:function(){var e=this,t=!1;$(window).scroll(function(){t=!0}),setInterval(function(){t&&(t=!1,e.checkPosition())},300)}}]);var i=r;function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$container=$(e),this.initialBottomPosition=this.$container.position().top+this.$container.outerHeight(!0),this.fakeContainerClassName="fake-container",this.fakeContainer=$("<div>").addClass(this.fakeContainerClassName),this.checkPosition(),this.onScroll()}window.Video=i},328:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");$(".item-spot").hide(),this.$container=$(".item-direct-container"),this.$container.css("display","none"),$(document).one("adDisplayDone",this.load.bind(this))}n(i.prototype,[{key:"load",value:function(){0<$("#request-play-game").size()?($(".game-control-container").hide(),$("#play-game").click(this.manageClick.bind(this))):this.display()}},{key:"manageClick",value:function(){this.insertContent(),this.display()}},{key:"insertContent",value:function(){$("#request-play-game").hide(),$(".game-control-container").show(),$(".item-spot").replaceWith($(".item-container").data("asyncContent")),this.$container=$(".item-direct-container")}},{key:"display",value:function(){this.$container.css("display","block")}}]),window.ItemLoader=i},329:function(e,t){function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n),t=(e=i?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t);var n=o(i);function i(){var e=this,t=i;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return i}();window.SwfLoader=n},330:function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n),t=(e=i?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t);var n=s(i);function i(){var e;if(this instanceof i)return(e=n.call(this)).url=$("#unity_webgl_game_url").attr("href"),e;throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"display",value:function(){this.$container.attr("src",this.$container.data("src")),o(c(i.prototype),"display",this).call(this)}}]),i}();window.Html5Loader=n},331:function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n),t=(e=i?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=ItemLoader;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t);var n=s(i);function i(){var e=this,t=i;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"load",value:function(){(new Html5Loader).load(),o(c(i.prototype),"load",this).call(this)}}]),i}();window.UnityLoader=n},332:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(r.prototype,[{key:"load",value:function(){var i=!1;flowplayer("#player",this.options()).on("load",function(e,t){new Video("#player")}).on("resume",function(e,t){var n;i||(n=$("#item_slug").data("item-slug"),$.post("/tracking/video_play_count",{item_slug:n}),i=!0)}).on("finish",function(e,t){t.unload(),$(document).trigger("playNextVideo")})}},{key:"options",value:function(){var e={key:"$483119889963668,$118640622092553",hlsQualities:!0,autoplay:!1,hlsjs:{maxMaxBufferLength:10,startLevel:-1},clip:{sources:[{type:"application/x-mpegurl",src:this.$container.data("src")}]}};return this.adManagerConfig.showAds&&(e.ima={ads:[{time:0,adTag:this.adManagerConfig.url}]}),e}}]);var i=r;function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$container=$("#player"),this.adManagerConfig=new VideoAdManagerConfig}window.VideoLoader=i},333:function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.adManagerConfig=new DisplayAdManagerConfig}n(318),i(r.prototype,[{key:"key",get:function(){return this.adManagerConfig.key}},{key:"value",get:function(){return this.adManagerConfig.value}},{key:"enabled",get:function(){return this.adManagerConfig.showAds}},{key:"showDefaultAds",get:function(){return this.adManagerConfig.showDefaultAds}},{key:"load",value:function(){this.enabled&&HeaderBidding.init(this.key,this.value,this.showDefaultAds)}}]),window.DisplayAdManager=r},334:function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.adManagerConfig=new VideoAdManagerConfig}n(335),n(336),n(337),i(r.prototype,[{key:"load",value:function(){return this.enabled()?ads.preloader():$(document).triggerHandler("adDisplayDone")}},{key:"enabled",value:function(){return!!this.adManagerConfig.revenueShare&&this.adManagerConfig.showAds&&this.compatibleDevice()}},{key:"compatibleDevice",value:function(){return"mobile"==window.UserAgent.device.type?Html5ImaCompatibility.mobile():Html5ImaCompatibility.desktop()}}]),window.VideoAdManager=r},335:function(e,t){!function(e){"use strict";function t(){return Cookies.get("AFGV")}e.cookieTimer={set:function(){var e=new Date;e.setTime(e.getTime()+18e5),Cookies.set("AFGV",!0,{expires:e,path:"/"})},get:t,hasExpired:function(){return!t()}}}(window.ads=window.ads||{},jQuery)},336:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}n(i.prototype,[{key:"enable",value:function(){var e=this;window.ads=window.ads||{},ads.preloader=function(){e.preloader({overlayContainer:$("#html5-ima-overlay"),loadingContainer:$("#html5-ima-loading"),container:$("#html5-ima"),adTagUrl:e.adTagUrl()}).load(),ads.cookieTimer.set()}}},{key:"mobile",get:function(){return"mobile"==window.UserAgent.device.type}},{key:"preloader",value:function(e){return new(this.mobile?Html5ImaMobile:Html5ImaDesktop)(e)}},{key:"adTagUrl",value:function(){return(new(this.mobile?MobileVideoAdManagerConfig:VideoAdManagerConfig)).url}}]),(new i).enable()},337:function(e,t){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=i?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}c(y,[{key:"key",get:function(){return this.$el.data("key")}},{key:"value",get:function(){return this.$el.data("value")}},{key:"showAds",get:function(){return!this.adBlockDetected&&this.$el.data("show-ads")}},{key:"showDefaultAds",get:function(){return this.$el.data("show-default-ads")}},{key:"revenueShare",get:function(){return this.$el.data("revenue-share")}}]);var u,l,d,h=y,f=(n(v,h),d=r(v),c(v,[{key:"slotRightUp",get:function(){return"/83578953/Y8_Right_of_games_1"}},{key:"slotRightDown",get:function(){return"/83578953/Y8_Right_of_games_2"}},{key:"slotAbove",get:function(){return"/83578953/Y8_Top_of_Games"}}]),v),h=(n(g,h),l=r(g),c(g,[{key:"videoTag",get:function(){return this.$el.data("video-tag")}},{key:"custParams",get:function(){return"cust_params=".concat(this.key,"%3D").concat(this.value)}},{key:"descriptionUrl",get:function(){return encodeURIComponent(window.location.href)}},{key:"url",get:function(){return[this.videoTag,this.custParams,this.descriptionUrl].join("&")}}]),g),p=(n(m,h),u=r(m),c(m,[{key:"videoTag",get:function(){return this.$el.data("mobile-video-tag")}}]),m);function m(){return a(this,m),u.apply(this,arguments)}function g(){var e;return a(this,g),(e=l.call(this)).$el=$("#video-ad-manager"),e}function v(){var e;return a(this,v),(e=d.call(this)).$el=$("#display-ad-manager"),e}function y(){a(this,y),this.adBlockDetected=void 0===window.adBlockDetected}window.DisplayAdManagerConfig=f,window.VideoAdManagerConfig=h,window.MobileVideoAdManagerConfig=p},338:function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=s(n),t=(e=i?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(){var e=i,t=VideoAdManager;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t);var n=a(i);function i(){var e=this,t=i;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"enabled",value:function(){return this.adManagerConfig.showAds&&this.compatibleDevice()}}]),i}();window.MobileVideoAdManager=n},339:function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.favorite=new Favorite,this.userInfo=new UserInfo}n(340),i(r.prototype,[{key:"bindClickActions",value:function(){var t=this;$(".favorites_add, .favorites_remove, .hearted_add, .hearted_remove").on("click",function(e){return e.preventDefault(),t.$currentActionContainer=$(e.currentTarget),t.currentAction=t.$currentActionContainer.data("action"),t.$container=t.$currentActionContainer.closest(".fav-part"),t.$add=t.$container.find(".favorites_add"),t.$remove=t.$container.find(".favorites_remove"),t.$heart=t.$container.find(".hearted_add"),t.$unheart=t.$container.find(".hearted_remove"),t.$heartMessage=$(".heart-message"),t.perform(),!1})}},{key:"perform",value:function(){if(this.favorite.processing)return!1;this.favorite[this.currentAction](this.getUrl(this.$currentActionContainer),this.getItemId(this.$currentActionContainer),$.proxy(this[this.currentAction],this))}},{key:"add",value:function(e){this.$add.hide(),this.$remove.show(),this.userInfo.canHeart()?(this.$heart.addClass("show"),this.$unheart.removeClass("visible"),this.$heartMessage.addClass("animation"),setTimeout(function(){return $(".heart-message").removeClass("animation")},7e3)):(this.$heartMessage.removeClass("show"),this.$unheart.removeClass("visible")),$(document).triggerHandler("favorites-count",e.user_favorites_count)}},{key:"remove",value:function(e){this.$add.show(),this.$remove.hide(),this.$heart.show().removeClass("show").removeClass("visible"),this.$unheart.show().removeClass("visible").removeClass("show"),this.$heartMessage.removeClass("animation"),$(document).triggerHandler("favorites-count",e.user_favorites_count),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"heart",value:function(e){this.$heart.hide().removeClass("visible").removeClass("show"),this.$unheart.addClass("visible"),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"unheart",value:function(e){this.$heart.addClass("visible"),this.$unheart.hide().removeClass("visible").removeClass("show"),$(document).triggerHandler("hearts-count",e.user_hearts_count)}},{key:"getUrl",value:function(e){return e.data("url")}},{key:"getItemId",value:function(e){return e.data("item-id")}}]),window.ItemFavorite=r},340:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.processing=!1}n(i.prototype,[{key:"add",value:function(e,t,n){this.execute(e,{item_id:t},"POST",n)}},{key:"remove",value:function(e,t,n){this.execute(e,null,"DELETE",n)}},{key:"heart",value:function(e,t,n){this.execute(e,{item_id:t},"POST",n)}},{key:"unheart",value:function(e,t,n){this.execute(e,null,"DELETE",n)}},{key:"execute",value:function(e,t,n,i){var r=this;this.request=$.ajax({type:n,url:e,data:t,beforeSend:function(){r.processing=!r.processing},complete:function(e){r.processing=!r.processing},error:function(e){403==e.status&&ID.register()},success:function(e){i(e)}})}}]),window.Favorite=i},341:function(e,t){window.ItemDiv=function(e){this.$container=$(e),this.$domElt=this.$container.find(".resizable"),this.initialWidth=this.$container.data("item-width"),this.initialHeight=this.$container.data("item-height"),this.supportsResizing=this.$container.data("item-supports-resizing"),this.ratioTolerant=this.$container.data("item-ratio-tolerant"),this.ratio=this.initialWidth/this.initialHeight,this.maximize=1==this.$container.data("maximize"),this.initialFitWidth=null,this.intialFitHeight=null,this.initialFitRatio=null,this.fitInto=function(e,t,n){t=void 0!==t?t:0,n=void 0!==n?n:0;var i={};if(this.supportsResizing)return(i=this.ratioTolerant?{width:e.currentWidth(),height:e.currentHeight()}:this.ratio>e.currentRatio()?{width:e.currentWidth(),height:e.currentWidth()/this.ratio}:{width:e.currentHeight()*this.ratio,height:e.currentHeight()}).width=i.width-t,i.height=i.height-n,this.initFitSize(i),this.changeSizeWith(i),i;this.initFitSize(i)},this.initFitSize=function(e){this.initialFitWidth||(this.initialFitWidth=e.width||this.initialWidth,this.initialFitHeight=e.height||this.initialHeight,this.initialFitRatio=this.initialFitWidth/this.initialFitHeight)},this.changeSizeWith=function(e){var t;e!={}&&(this.$domElt.each(function(){$(this).width(e.width),$(this).height(e.height),"mobile"==window.UserAgent.device.type&&($(this).css("max-width",e.width),$(this).css("max-height",e.height))}),(t=$("#afgv")).css(e).attr(e),t.find("embed").css(e).attr(e),window.UserAgent.device.type||((t=$("#html5-ima-overlay")).css(e).attr(e),t.find("iframe").css(e).attr(e)))},this.currentWidth=function(){return this.$domElt.length?this.$domElt.width():this.initialWidth},this.currentHeight=function(){return this.$domElt.length?this.$domElt.height():this.initialHeight}},window.ContainerDiv=function(e){this.$domElt=$(e),this.initialWidth=this.$domElt.width(),this.initialHeight=this.$domElt.height(),this.intialRatio=this.initialWidth/this.initialHeight,this.currentWidth=function(){return this.$domElt.width()},this.currentHeight=function(){return this.$domElt.height()},this.currentRatio=function(){return this.currentWidth()/this.currentHeight()},this.setHeight=function(e){this.$domElt.height(e)}}},342:function(e,t){!function(e,t){"use strict";var n={get container(){return delete this.container,this.container=t("#voting-buttons-container")},get buttons(){return delete this.buttons,this.buttons=this.container.find("button")}};e.VotingButtons={show:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).animated,e=void 0!==e&&e;this.enable(),e?n.container.slideDown("fast"):n.container.show()},hide:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).animated;void 0!==e&&e?n.container.slideUp("fast"):n.container.hide()},enable:function(){n.buttons.removeAttr("disabled")},disable:function(){n.buttons.attr("disabled","disabled")}}}(window,jQuery)},343:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(a.prototype,[{key:"send",value:function(){var e="";return window.recaptchaV3Token&&(e="?g-recaptcha-action=vote&g-recaptcha-response=".concat(window.recaptchaV3Token)),$.ajax({url:"/ajax/vote".concat(e),type:"POST",data:this.data,timeout:1e4,complete:this.complete.bind(this)}),this.deferred.promise()}},{key:"complete",value:function(e,t){this.deferred["success"==t?"resolve":"reject"](this,e)}}]);var i=a;function a(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=this,o=a;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.itemId=e,this.type=t,this.data=i.concat([{name:"item_id",value:e},{name:"vote_type",value:t},{name:"vote_time",value:n}]),this.deferred=$.Deferred()}window.VotingRequest=i},344:function(e,t,n){"use strict";n.r(t);var i,s,r,t=n(22),o=n.n(t);function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.initDeferred(),this.$container=i("#voting-captcha-container"),this.$form=i("> form",this.$container)}t=window,i=jQuery,t.VotingCaptcha=(t=u,l=[{key:"initDeferred",value:function(){this.deferred=i.Deferred(),this.deferred.always(this.reset.bind(this))}},{key:"show",value:function(){return this.$container.show().parents(".display-with-voting-captcha").show(),this.$container.centerWindow(),this.triggerRecaptcha(),this.deferred.promise()}},{key:"triggerRecaptcha",value:(s=o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.RecaptchaV3.triggerAction("vote");case 2:this.onSuccess();case 3:case"end":return e.stop()}},e,this)}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var i=s.apply(e,a);function r(e){c(i,t,n,r,o,"next",e)}function o(e){c(i,t,n,r,o,"throw",e)}r(void 0)})},function(){return r.apply(this,arguments)})},{key:"reset",value:function(){this.initDeferred(),grecaptcha.reset()}},{key:"onSuccess",value:function(){this.hide().then(this.resolve.bind(this))}},{key:"cancel",value:function(){return VotingButtons.show({animated:!0}),this.hide(),this.deferred.reject(),!1}},{key:"hide",value:function(){var e=i.Deferred();return this.$container.is(":hidden")?e.reject():this.$container.slideUp("fast",function(){i(this).parents(".display-with-voting-captcha").hide(),i(this).closest(".rate").removeClass("active"),e.resolve()}),e.promise()}},{key:"resolve",value:function(){var e=this.$form.serializeArray();this.deferred.resolve(e)}}],a(t.prototype,l),u),n(342),n(343),n(321),n(322);var l,d,h,t=n(118);function f(e){return m("success"),e}function p(e,t){t=function(e){try{return 400!=e.status?void 0:d.parseJSON(e.responseText).error.code}catch(e){return}}(t);switch(t){case self.ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA:break;case self.ERROR_TOO_MANY_VOTES_PER_ITEM:m("no-more");break;case self.ERROR_TOO_MANY_VOTES_PER_SITE:m("max-reached");break;default:m("unknown-error",!0)}return d.Deferred().reject(e,t)}function m(e,t){e&&(d("#voting-message-no-more").hide(),d("#voting-message-max-reached").hide(),d("#voting-message-unknown-error").hide(),0!==(e=d("#voting-message-"+e)).length&&(e.fadeIn(),t&&setTimeout("VotingButtons.show({ animated: true })",5e3)))}window.LibraryCookieSetter=t.a,l=window,d=jQuery,l.Voting={ERROR_NOT_LOGGED_IN_AND_NO_CAPTCHA:1,ERROR_TOO_MANY_VOTES_PER_ITEM:2,ERROR_TOO_MANY_VOTES_PER_SITE:3,init:function(){h=d.now()},vote:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=(d.now()-h)/1e3;return new VotingRequest(e,t,i,n).send().then(f,p)}}},351:function(e,t){window.ItemEmbed={init:function(){$("body").on("click",".item-embed-toggle",this.popUp.bind(this)),$("body").on("click",".item-embed-popup .btn-close",this.hideAll.bind(this)),$("body").on("click",".btn-copy-code",this.copyCode.bind(this))},popUp:function(e){e.stopPropagation(),e.preventDefault();var t=$(e.currentTarget).data("item-id");($popup=$("#item-embed-popup-"+t)).toggle(),this.selectEmbedCode(e)},hideAll:function(e){e.preventDefault(),$(".item-embed-popup").hide()},selectEmbedCode:function(e){$(e.target).parent().find("textarea").select()},copyCode:function(e){e.preventDefault()}}},352:function(e,t){window.IdnetLeaderboard={init:function(){$("#idnet-leaderboard").each(function(){function e(){options={appid:l,page:1,perpage:p},ID.GameAPI.Leaderboards.tables(options,function(e){if($(".leaderboard-loader").remove(),!e.success)return $(".idnet-leaderboard").hide(),$(".show-block-leaderboard").hide(),!1;"tables"in e&&0==e.tables.length?(y="y8_account",C(1).success(function(e){if(0==e.data.length)return!1;P(1,e),f=1<e.data[0].numscores?Math.ceil(e.data[0].numscores/p):1,jQuery.each(e.data,function(e,t){t.playerid=t.user.id,t.rank=e+1,t.playername=t.user.nickname,t.points=t.score.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t),e<=4&&i.append(r(t))}),x(),c&&_($("#idnet-leaderboard")),b()})):(y="playtomic",n=e.tables[0],k(1,function(e){if(!e.success)return!1;P(1,e),f=10,jQuery.each(e.scores,function(e,t){999999999<t.points?(t.points=t.points/1e6^0,t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"m"):999999<t.points?(t.points=t.points/1e3^0,t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"k"):t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t),e<=4&&i.append(r(t))}),I(),c&&_($("#idnet-leaderboard")),b()})),b()})}var n,i=$(this),t=$("#leaderboard-template",i).html(),r=Handlebars.compile(t),o=$("#idnet-leaderboard-pagination"),a=$(".profile-info").data("account-leaderboard-api-url"),s=window.appInfo.accountServiceApiUrls.profileAvatarUrl,c=i.data("load-avatars"),u=i.data("default-avatar"),l=$("body").data("idnet-app-id"),d=[],h=$(".idnet-leaderboard-body"),f=0,p=i.data("per-page")||10,m=i.data("visible-pages")||8,g={},v="alltime",y="y8_account",w=!1,b=function(){i.find("abbr.timeago").timeago()},k=function(e,t){options={appid:l,table:n,page:e,perpage:p,mode:v},ID.GameAPI.Leaderboards.listCustom(options,t)},C=function(e){return data={client_id:l,page:e,per_page:p,period:v},jQuery.ajax({url:a,data:data,type:"GET",contentType:"text/plain",dataType:"json"})},_=function(e){e.find(".member").each(function(){var e=$(this).data("playerid"),t=$(this).find("img");jQuery.ajax({url:s.replace(":uid",e),type:"GET",contentType:"text/plain",dataType:"json"}).success(function(e){t.attr("src",(e=e.profile.avatar)?e.replace("large","medium"):u)})})},S=function(e,t){e.preventDefault(),"y8_account"==y?O(t):"playtomic"==y&&j(t),_($(".idnet-leaderboard-body"))},x=function(){"alltime"==v?v="alltime":"last30days"==v?v="month":"last7days"==v?v="week":"today"==v?v="day":"newest"==v&&(v="newest"),D(1,function(e){if(0==e.length)return!1;P(1,e),A(1,e),f=10,o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:f,visiblePages:m,onPageClick:S}),b()})},I=function(){E(1,function(e){if(!e.success)return!1;P(1,e),T(e),f=10,o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:f,visiblePages:m,onPageClick:S}),b()})},j=function(t){E(t,function(e){if(!e.success)return!1;P(t,e),T(e),b()})},O=function(t){D(t,function(e){if(0==e.length)return!1;P(t,e),A(t,e),b()})},T=function(e){d=[],jQuery.each(e.scores,function(e,t){t.points=t.points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t)}),h.html(""),jQuery.each(d,function(e,t){h.append(r(t))})},A=function(n,e){d=[],jQuery.each(e.data,function(e,t){t.playerid=t.user.id,t.rank=p*(n-1)+e+1,t.playername=t.user.nickname,t.points=t.score.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.imageurl=u,d.push(t)}),h.html(""),jQuery.each(d,function(e,t){h.append(r(t))})},E=function(e,t){var n=g[v+":"+e];n&&0!=n.length?t(n):k(e,t)},D=function(e,t){var n=g[v+":"+e];n&&0!=n.length?t(n):C(e).success(t)},P=function(e,t){g[v+":"+e]=t};$(".leaderboard-filter-box select").change(function(){v=$(this).children("option:selected").val(),o.empty(),o.removeData("twbs-pagination"),o.unbind("page"),"y8_account"==y?x():"playtomic"==y&&I()}),$(".idnet-leaderboard-popup-toggle").click(function(e){e.preventDefault(),e.stopPropagation(),$(".idnet-leaderboard-popup").visible(!0)&&_($(".idnet-leaderboard-body")),$(".idnet-leaderboard-popup").fadeToggle()}),$(".idnet-leaderboard-popup, .close-leaderboard").click(function(){$(".idnet-leaderboard-popup").fadeOut()}),$(".idnet-leaderboard-popup-inner").click(function(e){e.stopPropagation()}),$(".idnet-leaderboard").visible(!0)?e():$(document).on("scroll",function(){$(".idnet-leaderboard").visible(!0)&&0==w&&(e(),w=!0)})})},dealtWithIdnetPanel:function(){$(".toogle-idnet-panel").click(function(e){var t;$("#points-frame").attr("src")||(t=$(".profile-info").data("account-leaderboard-points-url"),$("#points-frame").attr("src",t)),e.preventDefault(),e.stopPropagation(),$(".idnet-points-modal").fadeToggle()}),$(".idnet-points-modal .close-modal").click(function(e){$(".idnet-points-modal").fadeOut(),e.preventDefault()})}}},353:function(e,t,n){"use strict";n(341),n(354),n(355);var i=n(118);window.ItemView={itemDiv:null,containerDiv:null,adInit:!0,init:function(){this.bodyInitialWidth=$("body .container").width(),this.itemRenderingInitialWidth=$(".item-rendering").width(),this.containerDiv=new ContainerDiv("#item-container"),this.itemDiv=new ItemDiv("#item-container"),this.itemDiv.initFitSize({}),$(".game-control-container").width(this.itemDiv.currentWidth()),ItemMaximizer.init(this),ItemResizer.init(this),this.saveToLibrary()},dealWithContainerSize:function(){this.itemDiv.currentWidth()<=this.itemRenderingInitialWidth?$(".item-rendering").removeClass("wider"):$(".item-rendering").addClass("wider"),$(document).trigger("itemResizeDone")},saveToLibrary:function(){var e=$("body").data("item-id"),t=$(".animations-active").length?"watched_videos_ids":"played_games_ids";null!=e&&new i.a(t,e)}}},354:function(e,t){window.ItemResizer={init:function(e){this.itemView=e,this.itemDiv=e.itemDiv,this.containerDiv=e.containerDiv,this.$resizerContainer=$("#item-resizer"),this.$sliderElement=this.$resizerContainer.find("#item-resizer-slider"),$("#adjust-button").click(this.adjustItemSize.bind(this)),$("#item-resizer-remove-adjust-button").click(this.removeAdjustItemSize.bind(this)),this.$resizerContainer.fadeIn(),e={min:+this.$sliderElement.data("min"),max:98*$(window).width()/100,value:+this.itemDiv.initialFitWidth,step:+this.$sliderElement.data("step")},this.$sliderElement.slider(e),this.$sliderElement.bind("slide slidechange",this.onSliderChange.bind(this)),this.$resizerContainer.find(".item-resizer-resize-button").click(this.zoomOnItem.bind(this)),this.$resizerContainer.find("#item-resizer-reset-size-button").click(this.resetItemSize.bind(this))},adjustItemSize:function(e){e.preventDefault(),$(".adjust-layer").toggle(),$(window).scrollTop($("nav.navbar").innerHeight()-$("#item-resizer").innerHeight()-35)},removeAdjustItemSize:function(e){e.preventDefault(),$(".adjust-layer").hide()},onSliderChange:function(e,t){var n=this.$sliderElement.slider("option","step"),t=t.value-1,i={width:t,height:t/this.itemDiv.initialFitRatio};t!=this.itemDiv.currentWidth()&&(this.itemDiv.changeSizeWith(i),this.itemView.dealWithContainerSize(),this.containerDiv.setHeight(i.height),this.itemDiv.fitInto(this.containerDiv),i=Math.round(t/this.itemDiv.initialFitWidth*100),this.$resizerContainer.find("#item-resizer-label").find("span").text(i),this.$resizerContainer.find("#item-resizer-reset-size-button").css("display",Math.abs(t-this.itemDiv.initialFitWidth)<n?"none":"inline"))},resetItemSize:function(e){e.preventDefault(),this.$sliderElement.slider("value",this.itemDiv.initialFitWidth)},zoomOnItem:function(e){e.preventDefault();var t=10*-this.$sliderElement.slider("option","step");"up"===$(e.currentTarget).data("direction")&&(t=-t),this.$sliderElement.slider("value",+this.$sliderElement.slider("value")+t)}}},355:function(e,t){window.ItemMaximizer={init:function(e){this.itemView=e,this.itemDiv=e.itemDiv,this.containerDiv=e.containerDiv,$("#maximize-button").click(this.maximizeItemSize.bind(this))},renderMaximizedItemOverlay:function(){var e=$("<div>").addClass("ui-overlay maximized-item-overlay"),t=$("<div>").addClass("ui-widget-overlay"),n=$("<div>"+I18n.t("javascripts.item-maximizer.exit",{defaultValue:"EXIT FULL SCREEN"})+"</div>").addClass("unmaximize-button").attr("id","unmaximize-button").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(this.unmaximizeItemSize.bind(this));return e.append(t),e.append(n),$(document.body).append(e)},maximizeItemSize:function(e){e.preventDefault(),$(document).scrollTop(0),this.renderMaximizedItemOverlay(),this.containerDiv.$domElt.addClass("maximized"),$(document.body).addClass("maximized"),this.itemDiv.fitInto(this.containerDiv,0,60)},unmaximizeItemSize:function(e){e.preventDefault(),$(document.body).removeClass("maximized"),this.containerDiv.$domElt.removeClass("maximized"),$(".maximized-item-overlay").remove();e={width:this.itemDiv.initialFitWidth,height:this.itemDiv.initialFitHeight};this.itemDiv.changeSizeWith(e),this.containerDiv.setHeight(e.height),this.itemDiv.fitInto(this.containerDiv)}}},356:function(e,t){!function(P){"use strict";var R='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon id="star-icon"points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',s={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",onChange:null,onSet:null,starSvgIcon:null};function M(e,t,n){return e===t?e=t:e===n&&(e=n),e}function c(e,t){var n;return P.each(t,function(){if(e===this.node)return n=this,!1}),n}function F(e){return void 0!==e}function V(r,s){this.$node=r,this.node=r.get(0);var n=this;r.addClass("jq-ry-container");var c,t,u,l,d,e,i=P("<div/>").addClass("jq-ry-group-wrapper").appendTo(r),h=P("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(i),o=P("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(i);function a(e){var e=(e=F(e)?e:s.rating)/c,t=e*u;1<e&&(t+=(Math.ceil(e)-1)*d),o.css("width",t+"%")}function f(){e=t*s.numStars,e+=l*(s.numStars-1),u=t/e*100,d=l/e*100,r.width(e),a()}function p(e){return F(e)?(s.starWidth=s.starHeight=e,t=parseFloat(s.starWidth.replace("px","")),h.find("svg").attr({width:s.starWidth,height:s.starHeight}),o.find("svg").attr({width:s.starWidth,height:s.starHeight}),f(),r):s.starWidth}function m(e){return F(e)?(s.spacing=e,l=parseFloat(s.spacing.replace("px","")),h.find("svg:not(:first-child)").css({"margin-left":e}),o.find("svg:not(:first-child)").css({"margin-left":e}),f(),r):s.spacing}function g(e){return F(e)?(s.normalFill=e,h.find("svg").attr({fill:s.normalFill}),r):s.normalFill}function v(e){return F(e)?(s.ratedFill=e,o.find("svg").attr({fill:s.ratedFill}),r):s.ratedFill}function y(e){if(!F(e))return s.numStars;s.numStars=e,c=s.maxValue/s.numStars,h.empty(),o.empty();for(var t=0;t<s.numStars;t++)h.append(P(s.starSvgIcon||R)),o.append(P(s.starSvgIcon||R));return p(s.starWidth),v(s.ratedFill),g(s.normalFill),m(s.spacing),a(),r}function w(e){return F(e)?(s.maxValue=e,c=s.maxValue/s.numStars,s.rating>e&&A(e),a(),r):s.maxValue}function b(e){return F(e)?(s.precision=e,a(),r):s.precision}function $(e){return F(e)?(s.halfStar=e,r):s.halfStar}function k(e){return F(e)?(s.fullStar=e,r):s.fullStar}function C(e){var t,n=h.offset().left,i=n+h.width(),r=s.maxValue,e=e.pageX,o=0;if(e<n)o=0;else if(i<e)o=r;else{var r=(e-n)/(i-n);if(0<l)for(var a=r*=100;0<a;)u<a?(o+=c,a-=u+d):(o+=a/u*c,a=0);else o=r*s.maxValue;i=(e=o)%c,n=c/2,r=s.halfStar,((t=s.fullStar)||r)&&(t||r&&n<i?e+=c-i:(e-=i,0<i&&(e+=n))),o=e}return o}function _(e){var e=C(e).toFixed(s.precision),t=s.maxValue;a(e=M(parseFloat(e),0,t)),r.trigger("rateyo.change",{rating:e})}function S(){a(),r.trigger("rateyo.change",{rating:s.rating})}function x(e){e=C(e).toFixed(s.precision),e=parseFloat(e);n.rating(e)}function I(e,t){s.onChange&&"function"==typeof s.onChange&&s.onChange.apply(this,[t.rating,n])}function j(e,t){s.onSet&&"function"==typeof s.onSet&&s.onSet.apply(this,[t.rating,n])}function O(){r.off("mousemove",_).off("mouseenter",_).off("mouseleave",S).off("click",x).off("rateyo.change",I).off("rateyo.set",j)}function T(e){return F(e)?(s.readOnly=e,r.attr("readonly",!0),O(),e||(r.removeAttr("readonly"),r.on("mousemove",_).on("mouseenter",_).on("mouseleave",S).on("click",x).on("rateyo.change",I).on("rateyo.set",j)),r):s.readOnly}function A(e){if(!F(e))return s.rating;var t=s.maxValue;if("string"==typeof e&&("%"===e[e.length-1]&&(e=e.substr(0,e.length-1),w(t=100)),e=parseFloat(e)),0<=e&&e<=t)return e=parseFloat(e.toFixed(s.precision)),M(parseFloat(e),0,t),s.rating=e,a(),r.trigger("rateyo.set",{rating:e}),r;throw Error("Invalid Rating, expected value between 0 and "+t)}function E(e){return F(e)?(s.onSet=e,r):s.onSet}function D(e){return F(e)?(s.onChange=e,r):s.onChange}this.rating=function(e){return F(e)?(A(e),r):s.rating},this.destroy=function(){var n,i;return s.readOnly||O(),V.prototype.collection=(n=r.get(0),i=this.collection,P.each(i,function(e){var t;if(n===this.node)return t=i.slice(0,e),e=i.slice(e+1,i.length),i=t.concat(e),!1}),i),r.removeClass("jq-ry-container").children().remove(),r},this.method=function(e){if(!e)throw Error("Method name not specified!");if(!F(this[e]))throw Error("Method "+e+" doesn't exist!");var t=Array.prototype.slice.apply(arguments,[]).slice(1);return this[e].apply(this,t)},this.option=function(e,t){if(!F(e))return s;var n;switch(e){case"starWidth":n=p;break;case"numStars":n=y;break;case"normalFill":n=g;break;case"ratedFill":n=v;break;case"maxValue":n=w;break;case"precision":n=b;break;case"rating":n=A;break;case"halfStar":n=$;break;case"fullStar":n=k;break;case"readOnly":n=T;break;case"spacing":n=m;break;case"onSet":n=E;break;case"onChange":n=D;break;default:throw Error("No such option as "+e)}return n(t)},y(s.numStars),T(s.readOnly),this.collection.push(this),this.rating(s.rating)}V.prototype.collection=[],window.RateYo=V,P.fn.rateYo=function(){return function(e){var i=V.prototype.collection,t=P(this);if(0===t.length)return t;var r,o,a,n=Array.prototype.slice.apply(arguments,[]);if(0===n.length)e=n[0]={};else{if(1!==n.length||"object"!=typeof n[0]){if(1<=n.length&&"string"==typeof n[0])return r=n[0],o=n.slice(1),a=[],P.each(t,function(e,t){t=c(t,i);if(!t)throw Error("Trying to set options before even initialization");var n=t[r];if(!n)throw Error("Method "+r+" does not exist!");n=n.apply(t,o);a.push(n)}),a=1===a.length?a[0]:P(a);throw Error("Invalid Arguments")}e=n[0]}return e=P.extend(JSON.parse(JSON.stringify(s)),e),P.each(t,function(){if(!c(this,i))return new V(P(this),P.extend({},e))})}.apply(this,Array.prototype.slice.apply(arguments,[]))}}(jQuery)},361:function(e,t){window.IdnetAchievements={init:function(){$(document).ready(function(){$achitemPopup=$("#achitem-popup"),$achitemTitle=$("#achitem-title"),$achitemDesc=$("#achitem-desc"),$achitemDifficulty=$("#achitem-difficulty"),$achitemAwarded=$("#achitem-awarded"),$(document).on({mouseenter:function(){windowWidth=$(window).width();var e=$(this),t=e.position();return $achitemTitle.html(e.data("achtitle")),$achitemDesc.html(e.data("achdesc")),$achitemDifficulty.html(e.data("achdifficulty")),$achitemAwarded.html("Awarded: "+e.data("achawarded")+" players"),windowWidth-t.left<194&&(position.left=windowWidth-194),$achitemPopup.css({top:t.top+"px",left:t.left+"px"}).show(),!1},mouseleave:function(){return console.log("== hereOut"),$achitemPopup.hide(),!1}},".achitem")}),$("#idnet-achievements").each(function(){var n=$(this),e=$("#achievements-template",n).html(),i=Handlebars.compile(e),t=$("#idnet-achievements-pagination"),r=$("body").data("idnet-app-id"),o={appid:r},a=[],s=0,c=!1,u=function(){n.find("abbr.timeago").timeago()},l=function(e,t){e.preventDefault(),p(t)},d=function(){jQuery.ajax({xhrFields:{withCredentials:!0},url:window.appInfo.accountServiceApiUrls.userAutologinUrl.replace(":app_id",r)}).success(function(e){$(".achievements-loader").remove(),"user"in e&&(o.playerid=e.user.pid),ID.GameAPI.Achievements.listCustom(o,function(e){if(!(e.success&&"achievements"in e))return $(".idnet-achievements").hide(),!1;a=e.achievements,h(),1<(s=1<a.length?Math.ceil(a.length/16):1)&&t.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:s,visiblePages:13,onPageClick:l}),n.html(""),jQuery.each(a,function(e,t){e<=15&&n.append(i(t))}),u()}),u()})},h=function(){var n=[],i=[];jQuery.each(a,function(e,t){("player"in t?n:i).push(t)}),a=n.concat(i)},f=function(e){e=a.slice(16*(e-1),16*e);jQuery.each(e,function(e,t){n.append(i(t))})},p=function(e){0==a.length?d():(n.html(""),f(e))};$(".idnet-achievements").visible(!0)?p(1):$(document).on("scroll",function(){$(".idnet-achievements").visible(!0)&&0==c&&(p(1),c=!0)})})}}},362:function(e,t,n){n(363);var i={init:function(){$("#idnet-comments").each(function(){var i=$(this),e=(i.data("idnet-comments-locale-script"),i.data("idnet-comments-url")),t=$("#comment-template",i).html(),r=Handlebars.compile(t),o=$("#idnet-comments-pagination"),a=function(e,t){e.preventDefault(),n(t)},n=function(t){jQuery.get(e,{page:t},function(e){1==t&&Cookies.get("user_pid")?jQuery.get(i.data("idnet-user-comments-url").replace(":id",Cookies.get("user_pid")),s(e)):s(e)()})},s=function(n){return function(e){$(".comments-loader").remove(),n=u(n),e=u(e);var t=1<n.pages_count?n.pages_count:1,t=(1<t&&(o.show(),o.twbsPagination({first:I18n.t("js.pagination.first",{defaultValue:"First"}),prev:I18n.t("js.pagination.previous",{defaultValue:"Previous"}),next:I18n.t("js.pagination.next",{defaultValue:"Next"}),last:I18n.t("js.pagination.last",{defaultValue:"Last"}),totalPages:t,visiblePages:8,onPageClick:a})),n.results);e&&e.results.length&&(t=c(t,e)),$(".comments-counter").html(n.count),i.empty().append($.map(t,function(e){return e.message=decodeHtml(e.message),e.nickname?r(e):null})),i.find(".timeago").timeago()}},c=function(n,e){var i=$.map(n,function(e){return e._id});return $.each(e.results.reverse(),function(e,t){-1==i.indexOf(t._id)&&n.unshift(t)}),n},u=function(t){if("string"==typeof t)try{return jQuery.parseJSON(t)}catch(e){console.log("Failed to parse JSON",e,t)}return t};!function e(){i.visible(!0)?n(1):setTimeout(e,50)}(),i.on("refresh",function(e){n(1)})})},dealWithSubmitButton:function(){var e=$("#idnet-comment-text"),t=$("#submit-comment");t.focus(function(){t.trigger("click")}),e.focus(function(){t.addClass("pre-active")}),e.focusout(function(){t.removeClass("pre-active")}),e.on("keyup",function(){2<$(this).val().length?(t.removeAttr("disabled"),t.addClass("active")):(t.attr("disabled","disabled"),t.removeClass("active"))})}};$(function(){Comments.init(),i.init(),0<=["y8","videotime"].indexOf(appInfo.currentSkin.shortName)&&i.dealWithSubmitButton()}),window.IdnetComments=i},363:function(e,t,n){n(364);function i(e,t){return function(){return e.apply(t,arguments)}}var r,o;function a(){this.hideErrorMessageContainer=i(this.hideErrorMessageContainer,this),this.showErrorMessageContainer=i(this.showErrorMessageContainer,this),this.hideSuccessMessageContainer=i(this.hideSuccessMessageContainer,this),this.showSuccessMessageContainer=i(this.showSuccessMessageContainer,this),this.errorMessageContainer=i(this.errorMessageContainer,this),this.successMessageContainer=i(this.successMessageContainer,this),this.commentFormContainer=i(this.commentFormContainer,this),this.setTimerToHideMessage=i(this.setTimerToHideMessage,this),this.showErrorMessage=i(this.showErrorMessage,this),this.showSuccessMessage=i(this.showSuccessMessage,this),this.disableForm=i(this.disableForm,this),this.enableForm=i(this.enableForm,this),this.onCommentSubmitError=i(this.onCommentSubmitError,this),this.onCommentSubmitSuccess=i(this.onCommentSubmitSuccess,this),this.onBeforeSend=i(this.onBeforeSend,this),this.onUserInfoReady=i(this.onUserInfoReady,this),this.onSubmitClick=i(this.onSubmitClick,this),this.registerHandlers=i(this.registerHandlers,this),this.registerHandlers()}function s(){}window.Comments=(o=void 0,s.instance=s.init=function(){return null!=o?o:o=new r},s),a.prototype.DEFAULT_ERROR_MESSAGE=I18n.t("views.items.show.comment-error",{defaultValue:"Unexpected error occurred, please try again."}),a.prototype.registerHandlers=function(){return $(document).bind("user-info-ready",this.onUserInfoReady),this.commentFormContainer().find(".idnet-comments-form").on("ajax:beforeSend",this.onBeforeSend).on("ajax:success",this.onCommentSubmitSuccess).on("ajax:error",this.onCommentSubmitError),$("#submit-comment").click(this.onSubmitClick)},a.prototype.onSubmitClick=function(e){if(e.preventDefault(),$("#idnet-comment-text").val())return AvatarChooser.init(function(){return $(".idnet-comments-form").submit()})},a.prototype.onUserInfoReady=function(){if("true"===Cookies.get("access_token")&&"true"===Cookies.get("logged_in"))return this.commentFormContainer().find(".login-to-comment").remove(),this.commentFormContainer().find(".post-comment-table").show(),this.commentFormContainer().find(".idnet-comment-text").attr("placeholder",I18n.t("views.items.show.comment-placeholder",{defaultValue:"Input your comment here"})),this.enableForm()},a.prototype.onBeforeSend=function(e){return this.disableForm(),!0},a.prototype.onCommentSubmitSuccess=function(e,t){return $("#idnet-comments").trigger("refresh"),$(".comments-counter").html(parseInt($(".comments-counter").html())+1),this.showSuccessMessage(t),this.enableForm({clear:!0})},a.prototype.onCommentSubmitError=function(e,t){return"You've already submitted a comment recently"==t.responseText?this.showErrorMessage(I18n.t("views.items.show.comment-frequency",{defaultValue:"Please wait to post a comment again"})):this.showErrorMessage(403===t.status&&0<$.trim(t.responseText).length?t.responseText:this.DEFAULT_ERROR_MESSAGE),this.enableForm({focus:!0})},a.prototype.enableForm=function(e){var t;return null==e&&(e={}),t=this.commentFormContainer().find(".idnet-comment-text"),!0===e.clear&&t.val(""),t.removeAttr("disabled"),!0===e.focus&&t.focus(),this.commentFormContainer().find(".comment-button").removeAttr("disabled")},a.prototype.disableForm=function(){return this.commentFormContainer().find(".idnet-comment-text").attr("disabled","disabled"),this.commentFormContainer().find(".comment-button").attr("disabled","disabled")},a.prototype.showSuccessMessage=function(e){return this.hideErrorMessageContainer(),this.successMessageContainer().children("span").html(e),this.showSuccessMessageContainer(),this.setTimerToHideMessage()},a.prototype.showErrorMessage=function(e){return this.hideSuccessMessageContainer(),this.errorMessageContainer().children("span").html(e),this.showErrorMessageContainer(),this.setTimerToHideMessage()},a.prototype.setTimerToHideMessage=function(){return this.message_hiding_timeout&&clearTimeout(this.message_hiding_timeout),this.message_hiding_timeout=setTimeout((e=this,function(){return e.hideSuccessMessageContainer(),e.hideErrorMessageContainer()}),1e4);var e},a.prototype.commentFormContainer=function(){return this.comments_form_container||(this.comments_form_container=$(".post-comment-container"))},a.prototype.successMessageContainer=function(){return this.success_message_container||(this.success_message_container=this.commentFormContainer().find(".post-comment-message-success"))},a.prototype.errorMessageContainer=function(){return this.error_message_container||(this.error_message_container=this.commentFormContainer().find(".post-comment-message-error"))},a.prototype.showSuccessMessageContainer=function(){return this.successMessageContainer().removeClass("very-hidden").removeClass("hidden","fast")},a.prototype.hideSuccessMessageContainer=function(){return this.successMessageContainer().addClass("hidden","fast",function(){return $(this).addClass("very-hidden")})},a.prototype.showErrorMessageContainer=function(){return this.errorMessageContainer().removeClass("very-hidden").removeClass("hidden","fast")},a.prototype.hideErrorMessageContainer=function(){return this.errorMessageContainer().addClass("hidden","fast",function(){return $(this).addClass("very-hidden")})},r=a},364:function(e,t){r=i=n=null,o=!1,a=1,s=function(){o||c(),$(".choose-avatar-popup").find(".error").hide(),$(".choose-avatar-popup").show()},c=function(){h(),u(),f(),$(".btn-confirm").click(m),$(".btn-upload").click(g),o=!0},u=function(){$(".avatar-preset-wrapper").bind("click",function(){var e=$(this).data("id");n==e?l():e&&d(e,$(this))}),$(".set-"+a).show()},l=function(){n=null,$(".btn-confirm").addClass("disabled"),$(".avatar-preset-wrapper").removeClass("active"),$(".avatar-preset-wrapper").removeClass("dimmed")},d=function(e,t){n=e,$(".avatar-preset-wrapper").removeClass("active"),t.addClass("active"),t.removeClass("dimmed"),$(".avatar-preset-wrapper:not(.active)").addClass("dimmed"),$(".btn-confirm").removeClass("disabled")},h=function(){$(".choose-avatar-popup .btn-close").click(function(e){e.preventDefault(),$(".choose-avatar-popup").hide()})},f=function(){$(".choose-avatar-popup .btn-animation").click(function(){$(this).hide(),$(".choose-avatar-popup .btn-refresh").show(),$(".choose-avatar-popup .btn-refresh").click()}),$(".choose-avatar-popup .btn-refresh").click(p)},p=function(){l(),$(".set-"+a).hide(),a=a<9?a+1:1,$(".set-"+a).fadeIn()},m=function(e){e.preventDefault(),n&&$.ajax({url:"/ajax/choose_avatar_preset",data:{choise:n},method:"POST",timeout:1e4}).done(function(e){1==e.success&&(i(),$(".choose-avatar-popup").hide())}).fail(function(){$(".choose-avatar-popup").find(".error").show()})},g=function(e){e.preventDefault();e=window.appInfo.accountServiceApiUrls.profilePictureUrl.replace(":uid",r);window.open(e,"_blank"),window.focus(),$(".choose-avatar-popup").hide(),i()};var n,i,r,o,a,s,c,u,l,d,h,f,p,m,g,v={init:function(e){if(i=e,r=Cookies.get("user_pid"),-1===$(".avatar").prop("src").indexOf("default")||!r)return i();$.ajax({url:window.appInfo.accountServiceApiUrls.profileJsonUrl.replace(":uid",r),timeout:1e4}).done(function(e){(e&&e.profile&&1!=e.profile.avatar_present?s:i)()}).fail(function(){i()})}};window.AvatarChooser=v},365:function(e,t){o=function(){$.get(i,a).fail(function(e){$(".screenshots-loader").fadeOut(),n.empty(),n.parent().hide(),console.log("Failed to load Y8 Account screenshots")})},a=function(e){$(".screenshots-loader").fadeOut(),e=l(e),n.html(""),e&&e.length?$.each(e,function(e,t){n.append(r(t)),u(t,"#rateyo-")}):n.parent().hide(),$(".screenshot-thumb").click(s).lazyload({container:$(".idnet-screenshots"),effect:"fadeIn"}),$(".enlarged-screenshot-container").click(c),$(".enlarged-screenshot-close").click(c)},s=function(){var i=$(this).data("screenshot");$(".screenshot-table").hide(function(){var n=$(this);$(".enlarged-screenshot-container").fadeIn(),$(".enlarged-screenshot").attr({src:i.url}).load(function(){var e=$("#enlarged-screenshot-template").html(),e=Handlebars.compile(e),t=n.find(".screenshot-info");t.click(function(e){e.stopPropagation()}),t.empty(),t.append(e(i)),u(i,"#enlarged-rateyo-"),n.fadeIn()})})},c=function(){$(".enlarged-screenshot-container").fadeOut(function(){var e=$(".keycaptcha-wrapper");e.data("isDetached")&&($(".display-with-screenshot-rating-captcha").hide(),$(".keycaptcha-wrapper").detach().appendTo(".keycaptcha-placeholder"),e.data({isDetached:!1}))})},u=function(n,i){var e=$(i+n.id);e.rateYo({rating:n.averageRating,starWidth:"15px",fullStar:!0,normalFill:"#CFDCE8"}),e.rateYo("option","onSet",function(e){var t;"#enlarged-rateyo-"==i&&((t=$(".keycaptcha-wrapper")).detach().appendTo(".enlarged-keycaptcha-placeholder"),t.data({isDetached:!0})),ScreenshotRating.rate(n.appId,n.id,e)})},l=function(e){if("string"==typeof e)try{e=$.parseJSON(e)}catch(e){}return e};var n,i,r,o,a,s,c,u,l,d={init:function(){"use strict";Handlebars.registerHelper("contextAsJson",function(){return JSON.stringify(this)}),$(".idnet-screenshots").each(function(){n=$(this),i=n.data("idnet-screenshots-url");var e=$("#screenshot-template",n).html();r=Handlebars.compile(e),function e(){n.visible(!0)?o():setTimeout(e,50)}()})},initForProfile:function(){$(".screenshot").click(s).lazyload({container:$(".screenshots-list"),effect:"fadeIn"}),$(".enlarged-screenshot-container").click(c),$(".enlarged-screenshot-close").click(c)}};$(function(){d.init()}),window.IdnetScreenshots=d},366:function(e,t){function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}!function(n){"use strict";a(e={},Voting.ERROR_TOO_MANY_VOTES_PER_ITEM,"items.voting_main.vote_no_more"),a(e,Voting.ERROR_TOO_MANY_VOTES_PER_SITE,"views.items.show.max_votes_reached"),a(e,"default","views.items.show.unknown_voting_error");var e,t=e,i=(o(r.prototype,[{key:"position",value:function(){var e=this.$button.position();return{top:e.top-10,left:e.left}}},{key:"show",value:function(){var e=I18n.t(this.key()),t=this.position();n(".vote-popup").show().html(e).css(t).slideDown().delay(8e3).fadeOut()}},{key:"key",value:function(){return t[this.errorCode]||t.default}}]),r);function r(e,t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$button=e,this.errorCode=t}DesktopVoting.onSuccess(function(){var e=n(this),t=e.data("success-class");e.addClass(t),n(".on-success",e).show(),n("#success-overlay").show().delay(6e3).fadeOut()}),DesktopVoting.onFailure(function(e,t){new i(this,t).show()})}(jQuery)},397:function(e,t){$(function(){var e,t=$(".item-container");t.data("focus-object")&&$(".item-container object").focus(),t.data("focus-html5-content")&&((e=$("#html5-content")).focus(),$(document).on("click mouseenter",".item-container",function(){e.focus()}))})},398:function(e,t){jQuery(function(n){var i,t,r,o;"Chrome"==window.UserAgent.browser.name&&40<=parseInt(window.UserAgent.browser.major,10)&&n("body[data-controller=Items][data-action=show]").length&&(i=Date.now(),r=t=!1,o=!!n("#item-container iframe").length,n("#item-container iframe, #item-container embed, #item-container object").hover(function(){r=!0},function(){r=!1}),n("#item-container embed, #item-container object").on("mouseup",function(){setTimeout(function(){var e;void 0!==document.webkitHidden&&document.webkitHidden&&!t&&r&&!o&&(e=Date.now()-i,n.post("/tracking/outbound_link",{tog:e}),t=!0)},1e3)}),n(document).on("webkitvisibilitychange",function(e){var t;void 0!==document.webkitHidden&&document.webkitHidden&&r&&o&&(t=Date.now()-i,n.post("/tracking/outbound_link",{tog:t}),n(this).off(e))}))})},457:function(e,t,n){"use strict";n.r(t),n(325),n(351),n(339),n(361),n(362),n(352),n(365),n(353),n(344),n(366),n(356),n(397),n(398);var i={init:function(){$(".unity-version-link").length&&($(".webplayer-version-link").show(),this.webgl()||this.webglSmartFrame()?$(".webplayer-version-link").show():(this.webplayer()||this.webplayerSmartFrame())&&($(".webgl-version-link").show(),$(".webplayer-version-link").hide()))},webgl:function(){return/\/webgl$/.test(window.location.pathname)},webglSmartFrame:function(){return/\/webgl\/smart_frame$/.test(window.location.pathname)},webplayer:function(){return/\/unity3d$/.test(window.location.pathname)},webplayerSmartFrame:function(){return/\/unity3d\/smart_frame$/.test(window.location.pathname)}},t=n(323),r=n(324);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}o(s.prototype,[{key:"init",value:function(){var e=this;this.$promoBlock=document.querySelector("#y8-browser-promo-game"),this.$gameBlock=document.querySelector("#item-container"),this.$clickToPlay=document.querySelector("#request-play-game"),this.active=!1,this.$promoBlock&&(this.isY8Browser=-1!==navigator.userAgent.indexOf("y8"),this.isFlashEnabled()||this.isY8Browser?this.hide():(this.$clickToPlay&&(this.$clickToPlay.style.display="none",this.$clickToPlay.classList.remove("show")),this.active=!0,this.show()),this.manageDirectDownload(),this.$promoBlock.querySelector(".close-btn").addEventListener("click",function(){e.hide()}))}},{key:"show",value:function(){this.$gameBlock.style.display="none",this.$promoBlock.classList.add("show")}},{key:"hide",value:function(){this.$gameBlock.style.display="block",this.$promoBlock.classList.remove("show")}},{key:"manageDirectDownload",value:function(){var e=window.navigator.appVersion;this.$downloadLink=this.$promoBlock.querySelector(".download-link"),/.*(Mac).*/i.test(e)?this.$downloadLink.href=this.$downloadLink.dataset.macosUrl:/.*(Win).*/i.test(e)&&(this.$downloadLink.href=this.$downloadLink.dataset.windowsUrl)}},{key:"isFlashEnabled",value:function(){var e=!1;if(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])e=!0;else if(void 0!==window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(e){console.log(e)}return e}}]);var a=s;function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}window.Playtomic=new t.a,$(function(){i.init(),Tracking.init();var e=new a;e.init(),0!=$("#promoted-mobile-game").length||e.active||((e=new ItemAdLoader).init(),e.manageDisplayAd(),e.manageVideoAd(),"undefined"==typeof ItemView?ItemResizer.init("#item-container"):(ItemView.init(),ItemEmbed.init()),Tracking.trackTog()),(new ItemFavorite).bindClickActions(),r.a.init(!0),"undefined"!=typeof VideoPreview&&VideoPreview.init(),DesktopVoting.init(),$(window).on("id.init",function(){return IdnetAchievements.init(),IdnetLeaderboard.init()}),String(document.location.pathname).match(/\/games\/\w+/)&&$(document).off("keydown mouseenter mouseleave")})}});